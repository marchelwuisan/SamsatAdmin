(this["webpackJsonpsamsat-bapenda-dashboard"]=this["webpackJsonpsamsat-bapenda-dashboard"]||[]).push([[0],{346:function(e,t,a){"use strict";a.r(t);var n=a(56),r=a.n(n),c=a(42),i=(a(331),a(18)),l=a(405),s=a(392),o=a(374),j=Object(s.a)((function(){return Object(o.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),u=function(){return j(),null},b=a(32),d=a(314),O=Object(d.a)({palette:{background:{default:"#FFFFFF",paper:b.a.common.white},primary:{contrastText:"#ffffff",main:"#9A0000"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),p=a(13),x=a(7),h=a(0),f=a.n(h),g=a(6),m=a(14),A=a(160),v=a(406),I=a(408),_=a(409),S=a(410),E=a(397),L=a(411),N=a(306),P=a.n(N),K=a(305),R=a.n(K),B=a(1),C=a(31),M=["onMobileNavOpen"],T=function(e){var t=e.onMobileNavOpen,a=Object(A.a)(e,M),n=Object(h.useState)([]),r=(Object(p.a)(n,1)[0],Object(C.b)());return Object(B.jsx)(v.a,Object(m.a)(Object(m.a)({elevation:0},a),{},{children:Object(B.jsxs)(I.a,{children:[Object(B.jsx)(c.b,{to:"/",children:Object(B.jsx)(_.a,{style:{color:"white"},children:"Samsat Admin Dashboard"})}),Object(B.jsx)(S.a,{sx:{flexGrow:1}}),Object(B.jsx)(E.a,{lgDown:!0,children:Object(B.jsx)(c.b,{to:"/login",children:Object(B.jsx)(L.a,{onClick:function(){console.log("exit"),r({type:"LOGOUT"})},style:{color:"white"},children:Object(B.jsx)(R.a,{})})})}),Object(B.jsx)(E.a,{lgUp:!0,children:Object(B.jsx)(L.a,{color:"inherit",onClick:t,children:Object(B.jsx)(P.a,{})})})]})}))},D=a(381),U=a(414),y=a(415),w=a(379),H=a(380),z=a(400),W=a(413),k=["href","icon","title"],V=function(e){var t=e.href,a=e.icon,n=e.title,r=Object(A.a)(e,k),l=Object(i.i)(),s=!!t&&!!Object(i.f)({path:t,end:!1},l.pathname);return Object(B.jsx)(z.a,Object(m.a)(Object(m.a)({disableGutters:!0,sx:{display:"flex",py:0}},r),{},{children:Object(B.jsxs)(W.a,{component:c.c,sx:Object(m.a)(Object(m.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},s&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[a&&Object(B.jsx)(a,{size:"20"}),Object(B.jsx)("span",{children:n})]})}))},q=[{href:"/app/vehicles",icon:w.a,title:"Vehicles"},{href:"/app/users",icon:H.a,title:"Users"}],G=function(e){var t=e.onMobileClose,a=e.openMobile,n=Object(i.i)();Object(h.useEffect)((function(){a&&t&&t()}),[n.pathname]);var r=Object(B.jsxs)(S.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(B.jsx)(D.a,{}),Object(B.jsx)(S.a,{sx:{p:2},children:Object(B.jsx)(U.a,{children:q.map((function(e){return Object(B.jsx)(V,{href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(B.jsx)(S.a,{sx:{flexGrow:1}})]});return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(E.a,{lgUp:!0,children:Object(B.jsx)(y.a,{anchor:"left",onClose:t,open:a,variant:"temporary",PaperProps:{sx:{width:256}},children:r})}),Object(B.jsx)(E.a,{lgDown:!0,children:Object(B.jsx)(y.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:r})})]})};G.defaultProps={onMobileClose:function(){},openMobile:!1};var F=G,J=Object(g.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),Y=Object(g.a)("div")((function(e){var t=e.theme;return Object(x.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),X=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),Q=Object(g.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),Z=function(){var e=Object(h.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(B.jsxs)(J,{children:[Object(B.jsx)(T,{onMobileNavOpen:function(){return n(!0)}}),Object(B.jsx)(F,{onMobileClose:function(){return n(!1)},openMobile:a}),Object(B.jsx)(Y,{children:Object(B.jsx)(X,{children:Object(B.jsx)(Q,{children:Object(B.jsx)(i.b,{})})})})]})},$=function(e){return Object(B.jsx)(v.a,Object(m.a)(Object(m.a)({elevation:0},e),{},{children:Object(B.jsx)(I.a,{sx:{height:64},children:Object(B.jsx)(c.b,{to:"/"})})}))},ee=Object(g.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),te=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64}),ae=Object(g.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),ne=Object(g.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),re=function(){return Object(B.jsxs)(ee,{children:[Object(B.jsx)($,{}),Object(B.jsx)(te,{children:Object(B.jsx)(ae,{children:Object(B.jsx)(ne,{children:Object(B.jsx)(i.b,{})})})})]})},ce=a(74),ie=a(437),le=a(424),se=a(425),oe=a(426),je=a(436),ue=a(321),be=a(438),de=a(398),Oe=(Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),Object(de.a)(),a(391)),pe=(a(338),a(95)),xe=a.n(pe),he=a(416),fe=a(417),ge=a(418),me=a(419),Ae=a(402),ve=a(395),Ie=Object(s.a)((function(e){return{table:{"& tbody tr:hover":{}}}}));function _e(e,t,a){var n=Ie(),r=[5,10,25,50,100,250,500,1e3,1e4],c=Object(h.useState)(0),i=Object(p.a)(c,2),l=i[0],s=i[1],o=Object(h.useState)(r[4]),j=Object(p.a)(o,2),u=j[0],b=j[1],d=Object(h.useState)(),O=Object(p.a)(d,2),x=O[0],f=O[1],g=Object(h.useState)(),m=Object(p.a)(g,2),A=m[0],v=m[1],I=function(e,t){s(t)},_=function(e){b(parseInt(e.target.value,10)),s(0)};function S(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return{TblContainer:function(e){return Object(B.jsx)(he.a,{className:n.table,children:e.children})},TblHead:function(e){return Object(B.jsx)(fe.a,{children:Object(B.jsx)(ge.a,{children:t.map((function(e){return Object(B.jsx)(me.a,{sortDirection:A===e.id&&x,children:e.disableSorting?e.label:Object(B.jsx)(Ae.a,{active:A===e.id,direction:A===e.id?x:"asc",onClick:function(){var t;t=e.id,f(A===t&&"asc"===x?"desc":"asc"),v(t)},children:e.label})},e.id)}))})})},TblPagination:function(){return Object(B.jsx)(ve.a,{component:"div",page:l,rowsPerPageOptions:r,rowsPerPage:u,count:e.length,onPageChange:I,onRowsPerPageChange:_})},recordsAfterPagingAndSorting:function(){return function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a.fn(e),function(e,t){return"desc"===e?function(e,a){return S(e,a,t)}:function(e,a){return-S(e,a,t)}}(x,A)).slice(l*u,(l+1)*u)}}}var Se=a(200);Se.a.initializeApp({apiKey:"AIzaSyBzfYXYQ65ZEzsA6XAXidalcEpsS3EXyNg",authDomain:"samsat-bapenda.firebaseapp.com",projectId:"samsat-bapenda",storageBucket:"samsat-bapenda.appspot.com",messagingSenderId:"817667071135",appId:"1:817667071135:web:0da1b52b74b41fd817d6aa",measurementId:"G-75NBB5RS1J",databaseURL:"https://samsat-bapenda-default-rtdb.asia-southeast1.firebasedatabase.app/"});var Ee=Se.a,Le=a(404),Ne=a(430),Pe=a(390),Ke=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.totalVehicle})),a=Object(C.c)((function(e){return e.vehicles})),n=Object(h.useState)(""),r=Object(p.a)(n,2),c=r[0],i=r[1],l=Object(h.useState)(!1),s=Object(p.a)(l,2),o=s[0],j=s[1],u=Object(h.useState)(""),b=Object(p.a)(u,2),d=b[0],O=b[1],f=Object(h.useState)(""),g=Object(p.a)(f,2),A=g[0],v=g[1],I=function(e,t){v(t),O(e),j(!0)},S=function(e,t){"clickaway"!==t&&j(!1)};Object(h.useEffect)((function(){Ee.database().ref("/_TotalVehicle/").once("value").then((function(t){e({type:"TOTAL_VEHICLE",value:t.val()}),console.log("totalVehicle: ",t.val())}))}),[]);var E=function(e){var t=Object(h.useState)(e),a=Object(p.a)(t,2),n=a[0],r=a[1];return[n,function(t,a){return r("reset"===t?e:Object(m.a)(Object(m.a)({},n),{},Object(x.a)({},t,a)))}]}({NO:t+1,ID:c,NOMOR_MESIN:c,KODE_DAERAH_NOMOR_POLISI:"DB",NOMOR_POLISI:"",KODE_LOKASI_NOMOR_POLISI:"",NAMA_PEMILIK:"",TANGGAL_BERLAKU_SD:"",BULAN_BERLAKU_SD:"",TAHUN_BERLAKU_SD:"",ALAMAT_PEMILIK:"",BAHAN_BAKAR:"",ISI_SILINDER:"",JENIS_KB:"",MEREK_KB:"",MODEL_KB:"",NOMOR_RANGKA:"",PKB_TERAKHIR:"",PLAT:"",TAHUN_BUAT:"",TYPE_KB:""}),L=Object(p.a)(E,2),N=L[0],P=L[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(le.a,{children:Object(B.jsx)(se.a,{children:Object(B.jsxs)("form",{onSubmit:function(n){N.NOMOR_MESIN=c,N.ID=c,N.NO=t+1,console.log("form: ",N),Ee.database().ref("vehicles/".concat(t,"/")).set(N).then((function(){Ee.database().ref("/_TotalVehicle/").set(t+1).then((function(){Ee.database().ref("/_TotalVehicle/").once("value").then((function(t){N.index=a.length,console.log("form: ",N),e({type:"TOTAL_VEHICLE",value:t.val()}),e({type:"ADD_VEHICLE",value:N}),P("reset"),i(""),I("Vehicle Submitted.","success")})).catch((function(e){I(e.message,"error"),console.log(e.message)}))}))})),n.preventDefault()},children:[Object(B.jsx)(_.a,{variant:"h4",gutterBottom:!0,children:"Tambah Kendaraan"}),Object(B.jsxs)(Le.a,{container:!0,spacing:3,children:[Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"NOMOR_MESIN",label:"Nomor Mesin",fullWidth:!0,value:c,onChange:function(e){return i(e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:2,children:Object(B.jsx)(oe.a,{size:"small",defaultValue:"DB",required:!0,id:"KODE_DAERAH_NOMOR_POLISI",label:"Kode Daerah",fullWidth:!0,value:N.KODE_DAERAH_NOMOR_POLISI,onChange:function(e){return P("KODE_DAERAH_NOMOR_POLISI",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:2,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"NOMOR_POLISI",type:"number",label:"Nomor Polisi",fullWidth:!0,value:N.NOMOR_POLISI,onChange:function(e){return P("NOMOR_POLISI",e.target.value)},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:2,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"KODE_LOKASI_NOMOR_POLISI",label:"Kode Lokasi",fullWidth:!0,value:N.KODE_LOKASI_NOMOR_POLISI,onChange:function(e){return P("KODE_LOKASI_NOMOR_POLISI",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"NAMA_PEMILIK",label:"Nama Pemilik",fullWidth:!0,value:N.NAMA_PEMILIK,onChange:function(e){return P("NAMA_PEMILIK",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:2,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"TANGGAL_BERLAKU_SD",type:"number",label:"Hari",fullWidth:!0,value:N.TANGGAL_BERLAKU_SD,onChange:function(e){return P("TANGGAL_BERLAKU_SD",e.target.value)},InputProps:{inputProps:{max:31,min:1}},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:2,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"BULAN_BERLAKU_SD",type:"number",label:"Bulan",fullWidth:!0,value:N.BULAN_BERLAKU_SD,onChange:function(e){return P("BULAN_BERLAKU_SD",e.target.value)},InputProps:{inputProps:{max:12,min:1}},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:2,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"TAHUN_BERLAKU_SD",type:"number",label:"Tahun",fullWidth:!0,value:N.TAHUN_BERLAKU_SD,onChange:function(e){return P("TAHUN_BERLAKU_SD",e.target.value)},InputProps:{inputProps:{max:3e3,min:1800}},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:12,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"ALAMAT_PEMILIK",multiline:!0,label:"Alamat Pemilik",fullWidth:!0,value:N.ALAMAT_PEMILIK,onChange:function(e){return P("ALAMAT_PEMILIK",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"BAHAN_BAKAR",label:"Bahan Bakar",fullWidth:!0,value:N.BAHAN_BAKAR,onChange:function(e){return P("BAHAN_BAKAR",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"ISI_SILINDER",label:"Isi Silinder",fullWidth:!0,value:N.ISI_SILINDER,onChange:function(e){return P("ISI_SILINDER",e.target.value)},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"JENIS_KB",label:"Jenis KB",fullWidth:!0,value:N.JENIS_KB,onChange:function(e){return P("JENIS_KB",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"MEREK_KB",label:"Merek KB",fullWidth:!0,value:N.MEREK_KB,onChange:function(e){return P("MEREK_KB",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"MODEL_KB",label:"Model KB",fullWidth:!0,value:N.MODEL_KB,onChange:function(e){return P("MODEL_KB",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"NOMOR_RANGKA",label:"Nomor Rangka",fullWidth:!0,value:N.NOMOR_RANGKA,onChange:function(e){return P("NOMOR_RANGKA",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"PKB_TERAKHIR",label:"PKB Terakhir",fullWidth:!0,value:N.PKB_TERAKHIR,onChange:function(e){return P("PKB_TERAKHIR",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"PLAT",label:"Plat",fullWidth:!0,value:N.PLAT,onChange:function(e){return P("PLAT",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"TAHUN_BUAT",type:"number",label:"Tahun Buat",fullWidth:!0,value:N.TAHUN_BUAT,onChange:function(e){return P("TAHUN_BUAT",e.target.value)},InputProps:{inputProps:{max:3e3,min:1800}},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,md:6,children:Object(B.jsx)(oe.a,{size:"small",required:!0,id:"TYPE_KB",label:"Type KB",fullWidth:!0,value:N.TYPE_KB,onChange:function(e){return P("TYPE_KB",e.target.value.toUpperCase())},InputLabelProps:{required:!1}})}),Object(B.jsx)(Le.a,{item:!0,xs:12,children:Object(B.jsx)(W.a,{type:"submit",variant:"contained",children:" Submit "})})]})]})})}),Object(B.jsx)(Ne.a,{open:o,autoHideDuration:6e3,onClose:S,children:Object(B.jsx)(Pe.a,{onClose:S,severity:A,children:d})})]})},Re=a(432),Be=a(433),Ce=a(434),Me=a(435),Te=a(151),De=a.n(Te),Ue=a(150),ye=a.n(Ue),we=a(141),He=a.n(we),ze=Object(s.a)({root:{"& > *":{borderBottom:"unset"}},adornedStart:{width:"26px"}}),We=function(e){Object(C.b)();var t=e.vehicle,a=e.index,n=Object(h.useState)(t),r=Object(p.a)(n,2),c=r[0],i=r[1],l=f.a.useState(!1),s=Object(p.a)(l,2),o=s[0],j=s[1],u=ze(),b=f.a.useState(!1),d=Object(p.a)(b,2),O=d[0],x=d[1],g=f.a.useState(),A=Object(p.a)(g,2),v=(A[0],A[1]),I=Object(h.useState)(!1),_=Object(p.a)(I,2),E=_[0],N=_[1],P=Object(h.useState)(""),K=Object(p.a)(P,2),R=K[0],M=K[1],T=Object(h.useState)(""),D=Object(p.a)(T,2),U=D[0],y=D[1],w=function(e,t){y(t),M(e),N(!0)},H=function(e,t){"clickaway"!==t&&N(!1)};function z(e){var t=Object(C.b)(),a=e.onClose,n=e.selectedValue,r=e.open,c=function(){a(n)};return Object(B.jsxs)(Re.a,{open:r,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(B.jsx)(Be.a,{id:"alert-dialog-title",fontSize:18,children:"Are you sure?"}),Object(B.jsxs)(Ce.a,{children:[Object(B.jsx)(W.a,{onClick:function(){console.log("handleYes: ",e.selectedValue),Ee.database().ref("/deleted/vehicles/".concat(e.selectedValue.vehicle.NO-1)).set(e.selectedValue.vehicle).then((function(){Ee.database().ref("/vehicles/".concat(e.selectedValue.vehicle.NO-1)).set(null).then((function(){t({type:"DELETE_VEHICLE",value:e.selectedValue.vehicle.NO}),w("Vehicle Removed.","success"),a(n)}))}))},variant:"contained",color:"primary",children:" Yes "}),Object(B.jsx)(W.a,{onClick:c,color:"primary",autoFocus:!0,children:" No "})]})]})}return Object(B.jsxs)(h.Fragment,{children:[Object(B.jsxs)(ge.a,{className:u.root,children:[Object(B.jsx)(me.a,{children:Object(B.jsx)(L.a,{"aria-label":"expand row",size:"small",onClick:function(){return j(!o)},children:o?Object(B.jsx)(ye.a,{}):Object(B.jsx)(De.a,{})})}),Object(B.jsxs)(me.a,{component:"th",scope:"row",children:[" ",t.index," "]}),Object(B.jsx)(me.a,{children:t.NOMOR_MESIN}),Object(B.jsx)(me.a,{children:t.NAMA_PEMILIK}),Object(B.jsx)(me.a,{children:t.tanggalBerlaku}),Object(B.jsx)(me.a,{children:t.nomorPolisi}),Object(B.jsxs)(me.a,{children:[" ",Object(B.jsxs)(W.a,{size:"small",onClick:function(){return t.NO,void x(!0)},children:[" ",Object(B.jsx)(He.a,{})," "]})," "]}),Object(B.jsx)(z,{selectedValue:{vehicle:t,index:a},open:O,onClose:function(e){x(!1),v(e)}}),Object(B.jsx)(Ne.a,{open:E,autoHideDuration:6e3,onClose:H,children:Object(B.jsx)(Pe.a,{onClose:H,severity:U,children:R})})]}),Object(B.jsx)(ge.a,{children:Object(B.jsx)(me.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(B.jsx)(Me.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(B.jsx)(S.a,{margin:0,spacing:2,children:Object(B.jsxs)("form",{onSubmit:function(e){console.log("test: ",c),Ee.database().ref("/vehicles/".concat(c.NO-1,"/")).set(c).then((function(){Ee.database().ref("users").on("value",(function(e){e.forEach((function(e){var t=e.val().uid,a=e.val().vehicles;Object.keys(a).map((function(e){e===c.NOMOR_MESIN&&(console.log("gottem: ",t),Ee.database().ref("users/".concat(t,"/vehicles/").concat(c.NOMOR_MESIN,"/")).set(c).then((function(){Ee.database().ref("users").off("value")})))})),console.log("childRes: ",e.val())}))})),w("Edit Successful.","success")})),e.preventDefault()},children:[Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.NO,id:"NO",fullWidth:!0,disabled:!0,InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"No: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.NOMOR_MESIN,id:"NOMOR_MESIN",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{NOMOR_MESIN:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Nomor Mesin: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.NAMA_PEMILIK,id:"NAMA_PEMILIK",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{NAMA_PEMILIK:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Nama Pemilik: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.TANGGAL_BERLAKU_SD,id:"TANGGAL_BERLAKU_SD",fullWidth:!0,type:"number",onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{TANGGAL_BERLAKU_SD:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Tanggal Berlaku Sampai Dengan: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.BULAN_BERLAKU_SD,id:"BULAN_BERLAKU_SD",fullWidth:!0,type:"number",onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{BULAN_BERLAKU_SD:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Bulan Berlaku Sampai Bulan: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.TAHUN_BERLAKU_SD,id:"TAHUN_BERLAKU_SD",fullWidth:!0,type:"number",onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{TAHUN_BERLAKU_SD:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Tahun Berlaku Sampai Dengan: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.KODE_DAERAH_NOMOR_POLISI,id:"KODE_DAERAH_NOMOR_POLISI",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{KODE_DAERAH_NOMOR_POLISI:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Kode Daerah Nomor Polisi: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.NOMOR_POLISI,id:"NOMOR_POLISI",fullWidth:!0,type:"number",onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{NOMOR_POLISI:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Nomor Polisi: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.KODE_LOKASI_NOMOR_POLISI,id:"KODE_LOKASI_NOMOR_POLISI",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{KODE_LOKASI_NOMOR_POLISI:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Kode Lokasi Nomor Polisi: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.ALAMAT_PEMILIK,id:"ALAMAT_PEMILIK",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{ALAMAT_PEMILIK:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Alamat Pemilik: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.BAHAN_BAKAR,id:"BAHAN_BAKAR",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{BAHAN_BAKAR:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Bahan Bakar: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.ISI_SILINDER,id:"ISI_SILINDER",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{ISI_SILINDER:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Isi Silinder: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.JENIS_KB,id:"JENIS_KB",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{JENIS_KB:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Jenis KB: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.MEREK_KB,id:"MEREK_KB",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{MEREK_KB:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Merek KB: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.MODEL_KB,id:"MODEL_KB",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{MODEL_KB:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Model KB: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.NOMOR_RANGKA,id:"NOMOR_RANGKA",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{NOMOR_RANGKA:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Nomor Rangka: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.PKB_TERAKHIR,id:"PKB_TERAKHIR",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{PKB_TERAKHIR:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"PKB Terakhir: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.PLAT,id:"PLAT",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{PLAT:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Plat: "})}}),Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.TAHUN_BUAT,id:"TAHUN_BUAT",fullWidth:!0,type:"number",onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{TAHUN_BUAT:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Tahun Buat: "})}}),Object(B.jsxs)(Le.a,{container:!0,spacing:3,children:[Object(B.jsx)(Le.a,{item:!0,md:12,children:Object(B.jsx)(oe.a,{size:"small",variant:"outlined",defaultValue:t.TYPE_KB,id:"TYPE_KB",fullWidth:!0,onChange:function(e){return i(Object(m.a)(Object(m.a)({},c),{},{TYPE_KB:e.target.value.toUpperCase()}))},InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:"Tipe KB: "})}})}),Object(B.jsx)(Le.a,{item:!0,md:1,children:Object(B.jsx)(W.a,{type:"submit",variant:"contained",children:"Save"})})]})]})})})})})]})},ke=Object(s.a)({root:{"& > *":{borderBottom:"unset"}}});var Ve=function(e){var t=e.users,a=Object.keys(t.vehicles).map((function(e){return t.vehicles[e]}));console.log("vehicles: ",a);var n=f.a.useState(!1),r=Object(p.a)(n,2),c=r[0],i=r[1],l=f.a.useState(!1),s=Object(p.a)(l,2),o=(s[0],s[1],f.a.useState()),j=Object(p.a)(o,2),u=(j[0],j[1],ke());return Object(B.jsxs)(h.Fragment,{children:[Object(B.jsxs)(ge.a,{className:u.root,children:[Object(B.jsx)(me.a,{children:Object(B.jsx)(L.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!c)},children:c?Object(B.jsx)(ye.a,{}):Object(B.jsx)(De.a,{})})}),Object(B.jsx)(me.a,{children:t.namaLengkap}),Object(B.jsx)(me.a,{children:t.tanggalLahir}),Object(B.jsx)(me.a,{children:t.email}),Object(B.jsx)(me.a,{children:t.alamat})]}),Object(B.jsx)(ge.a,{children:Object(B.jsx)(me.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(B.jsx)(Me.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(B.jsx)(S.a,{children:Object(B.jsx)(Le.a,{container:!0,spacing:0,children:a.map((function(e){return Object(B.jsx)(Le.a,{item:!0,xs:6,children:Object(B.jsx)(le.a,{children:Object(B.jsxs)(se.a,{children:[Object(B.jsx)(Le.a,{container:!0,spacing:3,children:Object(B.jsxs)(Le.a,{item:!0,children:[Object(B.jsx)(_.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:e.JENIS_KB}),Object(B.jsx)(_.a,{color:"textPrimary",variant:"h3",children:e.ID})]})}),Object(B.jsx)(S.a,{sx:{pt:2,display:"flex",alignItems:"center"},children:Object(B.jsx)(_.a,{sx:{mr:1},variant:"body2",children:e.KODE_DAERAH_NOMOR_POLISI+" "+e.NOMOR_POLISI+" "+e.KODE_LOKASI_NOMOR_POLISI})})]})})})}))})})})})})]})},qe=[{id:"dropdown",label:""},{id:"namaLengkap",label:"Nama"},{id:"tanggalLahir",label:"Tanggal Lahir"},{id:"email",label:"Email"},{id:"alamat",label:"Alamat"}],Ge=function(){var e=Object(h.useState)([]),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(h.useState)({fn:function(e){return e}}),c=Object(p.a)(r,2),i=c[0],l=c[1];Object(h.useEffect)((function(){Ee.database().ref("/users/").once("value").then((function(e){var t=e.val(),a=Object.keys(t).map((function(e){return t[e]}));console.log("users: ",a),n(a)}))}),[]);var s=_e(a,qe,i),o=s.TblContainer,j=s.TblHead,u=s.TblPagination,b=s.recordsAfterPagingAndSorting;return Object(h.useEffect)((function(){console.log("users: ",a)}),[a]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ce.a,{children:Object(B.jsx)("title",{children:"Users"})}),Object(B.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(B.jsxs)(ie.a,{maxWidth:!1,children:[Object(B.jsx)(S.a,{children:Object(B.jsx)(S.a,{sx:{mt:3},children:Object(B.jsx)(le.a,{children:Object(B.jsx)(se.a,{children:Object(B.jsx)(S.a,{sx:{maxWidth:500},children:Object(B.jsx)(oe.a,{fullWidth:!0,InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:Object(B.jsx)(ue.a,{fontSize:"small",color:"action",children:Object(B.jsx)(Oe.a,{})})})},placeholder:"Cari User",variant:"outlined",onChange:function(e){var t=e.target;l({fn:function(e){return""==t.value?e:e.filter((function(e){return(e.namaLengkap+e.email+e.alamat).toLowerCase().includes(t.value)}))}})}})})})})})}),Object(B.jsx)(S.a,{sx:{pt:3},children:Object(B.jsx)(le.a,{children:Object(B.jsx)(xe.a,{children:Object(B.jsxs)(S.a,{sx:{minWidth:1050},children:[Object(B.jsxs)(o,{children:[Object(B.jsx)(j,{}),Object(B.jsx)(be.a,{children:b().map((function(e){return Object(B.jsx)(Ve,{users:e},e.uid)}))})]}),Object(B.jsx)(u,{})]})})})})]})})]})},Fe=a(19),Je=a(440),Ye=a(439),Xe=a(407),Qe=Object(s.a)((function(e){return{table:{"& tbody tr:hover":{}}}}));function Ze(e,t,a){var n=Qe(),r=[5,10,25,50,100,250,500,1e3,1e4],c=Object(h.useState)(0),i=Object(p.a)(c,2),l=i[0],s=i[1],o=Object(h.useState)(r[4]),j=Object(p.a)(o,2),u=j[0],b=j[1],d=Object(h.useState)(),O=Object(p.a)(d,2),x=O[0],f=O[1],g=Object(h.useState)(),m=Object(p.a)(g,2),A=m[0],v=m[1],I=function(e,t){s(t)},_=function(e){b(parseInt(e.target.value,10)),s(0)};function S(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return{TblContainer:function(e){return Object(B.jsx)(Ye.a,{component:Xe.a,children:Object(B.jsx)(he.a,{"aria-label":"collapsible table",className:n.table,children:e.children})})},TblHead:function(e){return Object(B.jsx)(fe.a,{children:Object(B.jsx)(ge.a,{children:t.map((function(e){return Object(B.jsx)(me.a,{sortDirection:A===e.id&&x,children:e.disableSorting?e.label:Object(B.jsx)(Ae.a,{active:A===e.id,direction:A===e.id?x:"asc",onClick:function(){var t;t=e.id,f(A===t&&"asc"===x?"desc":"asc"),v(t)},children:e.label})},e.id)}))})})},TblPagination:function(){return Object(B.jsx)(ve.a,{component:"div",page:l,rowsPerPageOptions:r,rowsPerPage:u,count:e.length,onPageChange:I,onRowsPerPageChange:_})},recordsAfterPagingAndSorting:function(){return console.log("records: ",e),function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a.fn(e),function(e,t){return"desc"===e?function(e,a){return S(e,a,t)}:function(e,a){return-S(e,a,t)}}(x,A)).slice(l*u,(l+1)*u)}}}var $e=[{id:"arrow",label:""},{id:"index",label:"Index"},{id:"NOMOR_MESIN",label:"Nomor Mesin"},{id:"NAMA_PEMILIK",label:"Nama Pemilik"},{id:"BERLAKU_SD",label:"Berlaku Sampai Dengan"},{id:"NOMOR_POLISI",label:"Nomor Polisi"},{id:"status",label:""}],et=function(){var e=Object(C.c)((function(e){return e.vehicles})),t=Object(C.c)((function(e){return e.vehiclesStatus})),a=Object(C.b)(),n=Object(h.useState)(!1),r=Object(p.a)(n,2),c=(r[0],r[1],Object(h.useState)({fn:function(e){return e}})),i=Object(p.a)(c,2),l=i[0],s=i[1],o=Object(h.useState)(!1),j=Object(p.a)(o,2),u=j[0],b=j[1],d=Object(h.useState)(!0),O=Object(p.a)(d,2),x=(O[0],O[1]);function f(e,t,n){Ee.database().ref("/vehicles/").orderByKey().startAt("".concat(e*t)).limitToFirst(t).once("value").then((function(r){if(console.log("loop: ",e),console.log("res: ",r),null!==r.val()){console.log("res.val: ",r.val());var c=Object.values(r.val()).filter((function(e){return e}));console.log("vehiclesRes: ",c),c.map((function(a,r){a.index=r+e*t,n=[].concat(Object(Fe.a)(n),[a])})),console.log("res.val.length: ",n.length),console.log("vehiclesTemp: ",n),x(!1),a({type:"LOAD_VEHICLES",value:n}),f(e+=1,t,n)}}))}Object(h.useEffect)((function(){console.log("vehiclesStatus: ",t),!1===t&&f(0,5e3,[])}),[t]);var g=Ze(e,$e,l),m=g.TblContainer,A=g.TblHead,v=g.TblPagination,I=g.recordsAfterPagingAndSorting;return Object(h.useEffect)((function(){console.log("vehicles: ",e)}),[e]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ce.a,{children:Object(B.jsx)("title",{children:"Samsat Admin Dashboard"})}),Object(B.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(B.jsxs)(ie.a,{maxWidth:!1,children:[Object(B.jsxs)(S.a,{children:[Object(B.jsx)(S.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(W.a,{color:"primary",variant:"contained",onClick:function(){b((function(e){return!e}))},children:"Tambah Kendaraan"})}),Object(B.jsx)(Me.a,{in:u,children:Object(B.jsx)(S.a,{sx:{mt:3},children:Object(B.jsx)(Ke,{})})}),Object(B.jsx)(S.a,{sx:{mt:3},children:Object(B.jsx)(le.a,{children:Object(B.jsx)(se.a,{children:Object(B.jsx)(S.a,{sx:{maxWidth:500},children:Object(B.jsx)(oe.a,{fullWidth:!0,InputProps:{startAdornment:Object(B.jsx)(je.a,{position:"start",children:Object(B.jsx)(ue.a,{fontSize:"small",color:"action",children:Object(B.jsx)(Oe.a,{})})})},placeholder:"Cari Kendaraan",variant:"outlined",onChange:function(e){var t=e.target;s({fn:function(e){return""==t.value?e:e.filter((function(e){return(e.NAMA_PEMILIK+e.NOMOR_MESIN+(e.KODE_DAERAH_NOMOR_POLISI+" ")+e.NOMOR_POLISI+" "+e.KODE_LOKASI_NOMOR_POLISI).toLowerCase().includes(t.value.toLowerCase())}))}})}})})})})})]}),Object(B.jsx)(S.a,{sx:{pt:3},children:Object(B.jsx)(Le.a,{container:!0,spacing:3,alignItems:"center",justify:"center",children:Object(B.jsx)(Le.a,{item:!0,xs:12,children:Object(B.jsx)(le.a,{children:Object(B.jsx)(xe.a,{children:Object(B.jsxs)(S.a,{sx:{minWidth:800},children:[Object(B.jsxs)(m,{children:[Object(B.jsx)(A,{}),Object(B.jsx)(be.a,{children:I().map((function(e,t){var a=["JANUARI","FEBRUARI","MARET","APRIL","MEI","JUNI","JULI","AGUSTUS","SEPTEMBER","OKTOBER","NOVEMBER","DESEMBER"][e.BULAN_BERLAKU_SD-1];return e.tanggalBerlaku=e.TANGGAL_BERLAKU_SD+" "+a+" "+e.TAHUN_BERLAKU_SD,e.nomorPolisi=e.KODE_DAERAH_NOMOR_POLISI+" "+e.NOMOR_POLISI+" "+e.KODE_LOKASI_NOMOR_POLISI,Object(B.jsx)(We,{vehicle:e,index:t},e.NO)}))})]}),t?null:Object(B.jsx)(Je.a,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginY:3,marginX:"50%"}}),Object(B.jsx)(v,{})]})})})})})})]})})]})},tt=a(199),at=a(313),nt=function(e){return Object(B.jsx)("img",Object(m.a)({width:"370",alt:"Bapenda Logo",src:"/SamsatAdmin/static/bapenda.svg"},e))},rt=function(){var e=Object(i.j)(),t=Object(C.b)(),a=Object(h.useState)(!1),n=Object(p.a)(a,2),r=n[0],c=n[1],l=function(e,t){"clickaway"!==t&&c(!1)};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ce.a,{children:Object(B.jsx)("title",{children:"Samsat Admin Dashboard"})}),Object(B.jsx)(S.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(B.jsx)(ie.a,{maxWidth:"sm",children:Object(B.jsx)(at.a,{initialValues:{email:"samsatdashboard@gmail.com",password:""},validationSchema:tt.a().shape({password:tt.b().max(255).required("Password is required")}),onSubmit:function(a){console.log("submit"),Ee.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){t({type:"LOGIN"}),e("/app/vehicles")})).catch((function(e){c(!0),console.log(e.message)}))},children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,c=(e.isSubmitting,e.touched),i=e.values;return Object(B.jsxs)("form",{onSubmit:r,children:[Object(B.jsx)(S.a,{display:"flex",alignItems:"center",justifyContent:"center",sx:{mb:6},children:Object(B.jsx)(nt,{})}),Object(B.jsx)(Le.a,{container:!0,spacing:3}),Object(B.jsx)(oe.a,{error:Boolean(c.password&&t.password),fullWidth:!0,helperText:c.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:i.password,variant:"outlined"}),Object(B.jsx)(S.a,{sx:{py:2},children:Object(B.jsx)(W.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in"})})]})}})})}),Object(B.jsx)(Ne.a,{open:r,autoHideDuration:6e3,onClose:l,children:Object(B.jsx)(Pe.a,{onClose:l,severity:"error",children:"The password is invalid."})})]})},ct=function(){var e=Object(C.c)((function(e){return e.loggedIn}));return Object(B.jsxs)(l.a,{theme:O,children:[Object(B.jsx)(u,{}),Object(B.jsxs)(i.e,{children:[Object(B.jsxs)(i.c,{path:"/",element:Object(B.jsx)(re,{}),children:[Object(B.jsx)(i.c,{path:"login",element:Object(B.jsx)(rt,{})}),Object(B.jsx)(i.c,{path:"/",element:Object(B.jsx)(i.a,{to:"/login"})}),Object(B.jsx)(i.c,{path:"*",element:Object(B.jsx)(i.a,{to:"/login"})})]}),Object(B.jsxs)(i.c,{path:"app",element:Object(B.jsx)(Z,{}),children:[Object(B.jsx)(i.c,{path:"users",element:1==e?Object(B.jsx)(Ge,{}):Object(B.jsx)(i.a,{to:"/login"})}),Object(B.jsx)(i.c,{path:"vehicles",element:1==e?Object(B.jsx)(et,{}):Object(B.jsx)(i.a,{to:"/login"})}),Object(B.jsx)(i.c,{path:"*",element:Object(B.jsx)(i.a,{to:"/login"})})]})]})]})},it=a(315),lt={vehicles:[],users:[],vehiclesStatus:!1,usersStatus:!1,loggedIn:!1,totalVehicle:0},st=Object(it.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_VEHICLES":if(e.vehicles=[])return Object(m.a)(Object(m.a)({},e),{},{vehicles:[].concat(Object(Fe.a)(e.vehicles),Object(Fe.a)(t.value)),vehiclesStatus:!0});case"LOAD_USERS":if(e.users===[])return Ee.database().ref("/users/").once("value").then((function(t){var a=t.val(),n=Object.keys(a).map((function(e){return a[e]}));return console.log("users: ",n),Object(m.a)(Object(m.a)({},e),{},{users:n})}));case"LOGIN":return Object(m.a)(Object(m.a)({},e),{},{loggedIn:!0});case"LOGOUT":return Object(m.a)(Object(m.a)({},e),{},{loggedIn:!1});case"ADD_VEHICLE":return Object(m.a)(Object(m.a)({},e),{},{vehicles:[].concat(Object(Fe.a)(e.vehicles),[t.value])});case"DELETE_VEHICLE":return Object(m.a)(Object(m.a)({},e),{},{vehicles:e.vehicles.filter((function(e){return e.NO!==t.value}))});case"TOTAL_VEHICLE":return Object(m.a)(Object(m.a)({},e),{},{totalVehicle:t.value});case"PLUS_TOTAL_VEHICLE":return Object(m.a)(Object(m.a)({},e),{},{totalVehicle:e.totalVehicle+1});case"MINUS_TOTAL_VEHICLE":return Object(m.a)(Object(m.a)({},e),{},{totalVehicle:e.totalVehicle-1});default:return e}}));st.subscribe((function(){console.log("store change: ",st.getState())}));var ot=st;r.a.render(Object(B.jsx)(c.a,{children:Object(B.jsx)(C.a,{store:ot,children:Object(B.jsx)(ct,{})})}),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.9f76102c.chunk.js.map